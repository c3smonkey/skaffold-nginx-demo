{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _get2 from \"@babel/runtime/helpers/get\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _compact from \"lodash/compact\";\nimport _map from \"lodash/map\";\nimport _every from \"lodash/every\";\nimport _without from \"lodash/without\";\nimport _findIndex from \"lodash/findIndex\";\nimport _find from \"lodash/find\";\nimport _reduce from \"lodash/reduce\";\nimport _some from \"lodash/some\";\nimport _escapeRegExp from \"lodash/escapeRegExp\";\nimport _deburr from \"lodash/deburr\";\nimport _isFunction from \"lodash/isFunction\";\nimport _filter from \"lodash/filter\";\nimport _pick from \"lodash/pick\";\nimport _dropRight from \"lodash/dropRight\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _size from \"lodash/size\";\nimport _difference from \"lodash/difference\";\nimport _union from \"lodash/union\";\nimport _get from \"lodash/get\";\nimport _includes from \"lodash/includes\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _invoke from \"lodash/invoke\";\nimport _isEqual from \"lodash/isEqual\";\nimport _has from \"lodash/has\";\nimport _isNil from \"lodash/isNil\";\nimport cx from 'classnames';\nimport keyboardKey from 'keyboard-key';\nimport PropTypes from 'prop-types';\nimport React, { Children, cloneElement } from 'react';\nimport shallowEqual from 'shallowequal';\nimport { AutoControlledComponent as Component, childrenUtils, customPropTypes, doesNodeContainClick, eventStack, getElementType, getUnhandledProps, objectDiff, useKeyOnly, useKeyOrValueAndKey } from '../../lib';\nimport Icon from '../../elements/Icon';\nimport Label from '../../elements/Label';\nimport DropdownDivider from './DropdownDivider';\nimport DropdownItem from './DropdownItem';\nimport DropdownHeader from './DropdownHeader';\nimport DropdownMenu from './DropdownMenu';\nimport DropdownSearchInput from './DropdownSearchInput';\n\nvar getKeyOrValue = function getKeyOrValue(key, value) {\n  return _isNil(key) ? value : key;\n};\n/**\n * A dropdown allows a user to select a value from a series of options.\n * @see Form\n * @see Select\n * @see Menu\n */\n\n\nvar Dropdown = /*#__PURE__*/function (_Component) {\n  _inherits(Dropdown, _Component);\n\n  function Dropdown() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Dropdown);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Dropdown)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleChange\", function (e, value) {\n      _invoke(_this.props, 'onChange', e, _objectSpread({}, _this.props, {\n        value: value\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"closeOnChange\", function (e) {\n      var _this$props = _this.props,\n          closeOnChange = _this$props.closeOnChange,\n          multiple = _this$props.multiple;\n      var shouldClose = _isUndefined(closeOnChange) ? !multiple : closeOnChange;\n      if (shouldClose) _this.close(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"closeOnEscape\", function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Escape) return;\n      e.preventDefault();\n\n      _this.close();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"moveSelectionOnKeyDown\", function (e) {\n      var _moves;\n\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          selectOnNavigation = _this$props2.selectOnNavigation;\n      var moves = (_moves = {}, _defineProperty(_moves, keyboardKey.ArrowDown, 1), _defineProperty(_moves, keyboardKey.ArrowUp, -1), _moves);\n      var move = moves[keyboardKey.getCode(e)];\n      if (move === undefined) return;\n      e.preventDefault();\n\n      _this.moveSelectionBy(move);\n\n      if (!multiple && selectOnNavigation) _this.makeSelectedItemActive(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"openOnSpace\", function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Spacebar) return;\n      if (_this.state.open) return;\n      e.preventDefault();\n\n      _this.open(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"openOnArrow\", function (e) {\n      var code = keyboardKey.getCode(e);\n      if (!_includes([keyboardKey.ArrowDown, keyboardKey.ArrowUp], code)) return;\n      if (_this.state.open) return;\n      e.preventDefault();\n\n      _this.open(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"makeSelectedItemActive\", function (e) {\n      var _this$state = _this.state,\n          open = _this$state.open,\n          value = _this$state.value;\n      var multiple = _this.props.multiple;\n\n      var item = _this.getSelectedItem();\n\n      var selectedValue = _get(item, 'value'); // prevent selecting null if there was no selected item value\n      // prevent selecting duplicate items when the dropdown is closed\n\n\n      if (_isNil(selectedValue) || !open) return; // state value may be undefined\n\n      var newValue = multiple ? _union(_this.state.value, [selectedValue]) : selectedValue;\n      var valueHasChanged = multiple ? !!_difference(newValue, value).length : newValue !== value;\n\n      if (valueHasChanged) {\n        // notify the onChange prop that the user is trying to change value\n        _this.setValue(newValue);\n\n        _this.setSelectedIndex(newValue);\n\n        _this.handleChange(e, newValue); // Heads up! This event handler should be called after `onChange`\n        // Notify the onAddItem prop if this is a new value\n\n\n        if (item['data-additional']) {\n          _invoke(_this.props, 'onAddItem', e, _objectSpread({}, _this.props, {\n            value: selectedValue\n          }));\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"selectItemOnEnter\", function (e) {\n      var search = _this.props.search;\n      if (keyboardKey.getCode(e) !== keyboardKey.Enter) return;\n      e.preventDefault();\n\n      var optionSize = _size(_this.getMenuOptions());\n\n      if (search && optionSize === 0) return;\n\n      _this.makeSelectedItemActive(e);\n\n      _this.closeOnChange(e);\n\n      _this.clearSearchQuery();\n\n      if (search && _this.searchRef) _this.searchRef.focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"removeItemOnBackspace\", function (e) {\n      var _this$props3 = _this.props,\n          multiple = _this$props3.multiple,\n          search = _this$props3.search;\n      var _this$state2 = _this.state,\n          searchQuery = _this$state2.searchQuery,\n          value = _this$state2.value;\n      if (keyboardKey.getCode(e) !== keyboardKey.Backspace) return;\n      if (searchQuery || !search || !multiple || _isEmpty(value)) return;\n      e.preventDefault(); // remove most recent value\n\n      var newValue = _dropRight(value);\n\n      _this.setValue(newValue);\n\n      _this.setSelectedIndex(newValue);\n\n      _this.handleChange(e, newValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"closeOnDocumentClick\", function (e) {\n      if (!_this.props.closeOnBlur) return; // If event happened in the dropdown, ignore it\n\n      if (_this.ref && doesNodeContainClick(_this.ref, e)) return;\n\n      _this.close();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"attachHandlersOnOpen\", function () {\n      eventStack.sub('keydown', [_this.closeOnEscape, _this.moveSelectionOnKeyDown, _this.selectItemOnEnter, _this.removeItemOnBackspace]);\n      eventStack.sub('click', _this.closeOnDocumentClick);\n      eventStack.unsub('keydown', [_this.openOnArrow, _this.openOnSpace]);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMouseDown\", function (e) {\n      _this.isMouseDown = true;\n      eventStack.sub('mouseup', _this.handleDocumentMouseUp);\n\n      _invoke(_this.props, 'onMouseDown', e, _this.props);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleDocumentMouseUp\", function () {\n      _this.isMouseDown = false;\n      eventStack.unsub('mouseup', _this.handleDocumentMouseUp);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleClick\", function (e) {\n      var _this$props4 = _this.props,\n          minCharacters = _this$props4.minCharacters,\n          search = _this$props4.search;\n      var _this$state3 = _this.state,\n          open = _this$state3.open,\n          searchQuery = _this$state3.searchQuery;\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent closeOnDocumentClick()\n\n\n      e.stopPropagation();\n      if (!search) return _this.toggle(e);\n      if (open) return;\n\n      if (searchQuery.length >= minCharacters || minCharacters === 1) {\n        _this.open(e);\n\n        return;\n      }\n\n      if (_this.searchRef) _this.searchRef.focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleIconClick\", function (e) {\n      var clearable = _this.props.clearable;\n\n      var hasValue = _this.hasValue();\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent handleClick()\n\n\n      e.stopPropagation();\n\n      if (clearable && hasValue) {\n        _this.clearValue(e);\n      } else {\n        _this.toggle(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleItemClick\", function (e, item) {\n      var _this$props5 = _this.props,\n          multiple = _this$props5.multiple,\n          search = _this$props5.search;\n      var value = item.value; // prevent toggle() in handleClick()\n\n      e.stopPropagation(); // prevent closeOnDocumentClick() if multiple or item is disabled\n\n      if (multiple || item.disabled) e.nativeEvent.stopImmediatePropagation();\n      if (item.disabled) return;\n      var isAdditionItem = item['data-additional'];\n      var newValue = multiple ? _union(_this.state.value, [value]) : value; // notify the onChange prop that the user is trying to change value\n\n      _this.setValue(newValue);\n\n      _this.setSelectedIndex(value);\n\n      _this.clearSearchQuery();\n\n      _this.handleChange(e, newValue);\n\n      _this.closeOnChange(e); // Heads up! This event handler should be called after `onChange`\n      // Notify the onAddItem prop if this is a new value\n\n\n      if (isAdditionItem) _invoke(_this.props, 'onAddItem', e, _objectSpread({}, _this.props, {\n        value: value\n      }));\n      if (multiple && search && _this.searchRef) _this.searchRef.focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleFocus\", function (e) {\n      var focus = _this.state.focus;\n      if (focus) return;\n\n      _invoke(_this.props, 'onFocus', e, _this.props);\n\n      _this.setState({\n        focus: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleBlur\", function (e) {\n      // Heads up! Don't remove this.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/1315\n      var currentTarget = _get(e, 'currentTarget');\n\n      if (currentTarget && currentTarget.contains(document.activeElement)) return;\n      var _this$props6 = _this.props,\n          closeOnBlur = _this$props6.closeOnBlur,\n          multiple = _this$props6.multiple,\n          selectOnBlur = _this$props6.selectOnBlur; // do not \"blur\" when the mouse is down inside of the Dropdown\n\n      if (_this.isMouseDown) return;\n\n      _invoke(_this.props, 'onBlur', e, _this.props);\n\n      if (selectOnBlur && !multiple) {\n        _this.makeSelectedItemActive(e);\n\n        if (closeOnBlur) _this.close();\n      }\n\n      _this.setState({\n        focus: false\n      });\n\n      _this.clearSearchQuery();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSearchChange\", function (e, _ref) {\n      var value = _ref.value; // prevent propagating to this.props.onChange()\n\n      e.stopPropagation();\n      var minCharacters = _this.props.minCharacters;\n      var open = _this.state.open;\n      var newQuery = value;\n\n      _invoke(_this.props, 'onSearchChange', e, _objectSpread({}, _this.props, {\n        searchQuery: newQuery\n      }));\n\n      _this.trySetState({\n        searchQuery: newQuery\n      }, {\n        selectedIndex: 0\n      }); // open search dropdown on search query\n\n\n      if (!open && newQuery.length >= minCharacters) {\n        _this.open();\n\n        return;\n      } // close search dropdown if search query is too small\n\n\n      if (open && minCharacters !== 1 && newQuery.length < minCharacters) _this.close();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getKeyAndValues\", function (options) {\n      return options ? options.map(function (option) {\n        return _pick(option, ['key', 'value']);\n      }) : options;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getMenuOptions\", function () {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.value;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.props.options;\n      var _this$props7 = _this.props,\n          additionLabel = _this$props7.additionLabel,\n          additionPosition = _this$props7.additionPosition,\n          allowAdditions = _this$props7.allowAdditions,\n          deburr = _this$props7.deburr,\n          multiple = _this$props7.multiple,\n          search = _this$props7.search;\n      var searchQuery = _this.state.searchQuery;\n      var filteredOptions = options; // filter out active options\n\n      if (multiple) {\n        filteredOptions = _filter(filteredOptions, function (opt) {\n          return !_includes(value, opt.value);\n        });\n      } // filter by search query\n\n\n      if (search && searchQuery) {\n        if (_isFunction(search)) {\n          filteredOptions = search(filteredOptions, searchQuery);\n        } else {\n          // remove diacritics on search input and options, if deburr prop is set\n          var strippedQuery = deburr ? _deburr(searchQuery) : searchQuery;\n          var re = new RegExp(_escapeRegExp(strippedQuery), 'i');\n          filteredOptions = _filter(filteredOptions, function (opt) {\n            return re.test(deburr ? _deburr(opt.text) : opt.text);\n          });\n        }\n      } // insert the \"add\" item\n\n\n      if (allowAdditions && search && searchQuery && !_some(filteredOptions, {\n        text: searchQuery\n      })) {\n        var additionLabelElement = React.isValidElement(additionLabel) ? React.cloneElement(additionLabel, {\n          key: 'addition-label'\n        }) : additionLabel || '';\n        var addItem = {\n          key: 'addition',\n          // by using an array, we can pass multiple elements, but when doing so\n          // we must specify a `key` for React to know which one is which\n          text: [additionLabelElement, React.createElement(\"b\", {\n            key: \"addition-query\"\n          }, searchQuery)],\n          value: searchQuery,\n          className: 'addition',\n          'data-additional': true\n        };\n        if (additionPosition === 'top') filteredOptions.unshift(addItem);else filteredOptions.push(addItem);\n      }\n\n      return filteredOptions;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getSelectedItem\", function () {\n      var selectedIndex = _this.state.selectedIndex;\n\n      var options = _this.getMenuOptions();\n\n      return _get(options, \"[\".concat(selectedIndex, \"]\"));\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getEnabledIndices\", function (givenOptions) {\n      var options = givenOptions || _this.getMenuOptions();\n\n      return _reduce(options, function (memo, item, index) {\n        if (!item.disabled) memo.push(index);\n        return memo;\n      }, []);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getItemByValue\", function (value) {\n      var options = _this.props.options;\n      return _find(options, {\n        value: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getMenuItemIndexByValue\", function (value, givenOptions) {\n      var options = givenOptions || _this.getMenuOptions();\n\n      return _findIndex(options, ['value', value]);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getDropdownAriaOptions\", function () {\n      var _this$props8 = _this.props,\n          loading = _this$props8.loading,\n          disabled = _this$props8.disabled,\n          search = _this$props8.search,\n          multiple = _this$props8.multiple;\n      var open = _this.state.open;\n      var ariaOptions = {\n        role: search ? 'combobox' : 'listbox',\n        'aria-busy': loading,\n        'aria-disabled': disabled,\n        'aria-expanded': !!open\n      };\n\n      if (ariaOptions.role === 'listbox') {\n        ariaOptions['aria-multiselectable'] = multiple;\n      }\n\n      return ariaOptions;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"clearSearchQuery\", function () {\n      _this.trySetState({\n        searchQuery: ''\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setValue\", function (value) {\n      _this.trySetState({\n        value: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setSelectedIndex\", function () {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.value;\n      var optionsProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.props.options;\n      var multiple = _this.props.multiple;\n      var selectedIndex = _this.state.selectedIndex;\n\n      var options = _this.getMenuOptions(value, optionsProps);\n\n      var enabledIndicies = _this.getEnabledIndices(options);\n\n      var newSelectedIndex; // update the selected index\n\n      if (!selectedIndex || selectedIndex < 0) {\n        var firstIndex = enabledIndicies[0]; // Select the currently active item, if none, use the first item.\n        // Multiple selects remove active items from the list,\n        // their initial selected index should be 0.\n\n        newSelectedIndex = multiple ? firstIndex : _this.getMenuItemIndexByValue(value, options) || enabledIndicies[0];\n      } else if (multiple) {\n        // multiple selects remove options from the menu as they are made active\n        // keep the selected index within range of the remaining items\n        if (selectedIndex >= options.length - 1) {\n          newSelectedIndex = enabledIndicies[enabledIndicies.length - 1];\n        }\n      } else {\n        var activeIndex = _this.getMenuItemIndexByValue(value, options); // regular selects can only have one active item\n        // set the selected index to the currently active item\n\n\n        newSelectedIndex = _includes(enabledIndicies, activeIndex) ? activeIndex : undefined;\n      }\n\n      if (!newSelectedIndex || newSelectedIndex < 0) {\n        newSelectedIndex = enabledIndicies[0];\n      }\n\n      _this.setState({\n        selectedIndex: newSelectedIndex\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleLabelClick\", function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n\n      _this.setState({\n        selectedLabel: labelProps.value\n      });\n\n      _invoke(_this.props, 'onLabelClick', e, labelProps);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleLabelRemove\", function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n      var value = _this.state.value;\n\n      var newValue = _without(value, labelProps.value);\n\n      _this.setValue(newValue);\n\n      _this.setSelectedIndex(newValue);\n\n      _this.handleChange(e, newValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"moveSelectionBy\", function (offset) {\n      var startIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.selectedIndex;\n\n      var options = _this.getMenuOptions(); // Prevent infinite loop\n      // TODO: remove left part of condition after children API will be removed\n\n\n      if (options === undefined || _every(options, 'disabled')) return;\n      var lastIndex = options.length - 1;\n      var wrapSelection = _this.props.wrapSelection; // next is after last, wrap to beginning\n      // next is before first, wrap to end\n\n      var nextIndex = startIndex + offset; // if 'wrapSelection' is set to false and selection is after last or before first, it just does not change\n\n      if (!wrapSelection && (nextIndex > lastIndex || nextIndex < 0)) {\n        nextIndex = startIndex;\n      } else if (nextIndex > lastIndex) nextIndex = 0;else if (nextIndex < 0) nextIndex = lastIndex;\n\n      if (options[nextIndex].disabled) {\n        _this.moveSelectionBy(offset, nextIndex);\n\n        return;\n      }\n\n      _this.setState({\n        selectedIndex: nextIndex\n      });\n\n      _this.scrollSelectedItemIntoView();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleIconOverrides\", function (predefinedProps) {\n      var clearable = _this.props.clearable;\n      var classes = cx(clearable && _this.hasValue() && 'clear', predefinedProps.className);\n      return {\n        className: classes,\n        onClick: function onClick(e) {\n          _invoke(predefinedProps, 'onClick', e, predefinedProps);\n\n          _this.handleIconClick(e);\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSearchRef\", function (c) {\n      return _this.searchRef = c;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSizerRef\", function (c) {\n      return _this.sizerRef = c;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleRef\", function (c) {\n      return _this.ref = c;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"clearValue\", function (e) {\n      var multiple = _this.props.multiple;\n      var newValue = multiple ? [] : '';\n\n      _this.setValue(newValue);\n\n      _this.setSelectedIndex(newValue);\n\n      _this.handleChange(e, newValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"computeSearchInputTabIndex\", function () {\n      var _this$props9 = _this.props,\n          disabled = _this$props9.disabled,\n          tabIndex = _this$props9.tabIndex;\n      if (!_isNil(tabIndex)) return tabIndex;\n      return disabled ? -1 : 0;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"computeSearchInputWidth\", function () {\n      var searchQuery = _this.state.searchQuery;\n\n      if (_this.sizerRef && searchQuery) {\n        // resize the search input, temporarily show the sizer so we can measure it\n        _this.sizerRef.style.display = 'inline';\n        _this.sizerRef.textContent = searchQuery;\n        var searchWidth = Math.ceil(_this.sizerRef.getBoundingClientRect().width);\n\n        _this.sizerRef.style.removeProperty('display');\n\n        return searchWidth;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"computeTabIndex\", function () {\n      var _this$props10 = _this.props,\n          disabled = _this$props10.disabled,\n          search = _this$props10.search,\n          tabIndex = _this$props10.tabIndex; // don't set a root node tabIndex as the search input has its own tabIndex\n\n      if (search) return undefined;\n      if (disabled) return -1;\n      return _isNil(tabIndex) ? 0 : tabIndex;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSearchInputOverrides\", function (predefinedProps) {\n      return {\n        onChange: function onChange(e, inputProps) {\n          _invoke(predefinedProps, 'onChange', e, inputProps);\n\n          _this.handleSearchChange(e, inputProps);\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"hasValue\", function () {\n      var multiple = _this.props.multiple;\n      var value = _this.state.value;\n      return multiple ? !_isEmpty(value) : !_isNil(value) && value !== '';\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"scrollSelectedItemIntoView\", function () {\n      if (!_this.ref) return;\n\n      var menu = _this.ref.querySelector('.menu.visible');\n\n      if (!menu) return;\n      var item = menu.querySelector('.item.selected');\n      if (!item) return;\n      var isOutOfUpperView = item.offsetTop < menu.scrollTop;\n      var isOutOfLowerView = item.offsetTop + item.clientHeight > menu.scrollTop + menu.clientHeight;\n\n      if (isOutOfUpperView) {\n        menu.scrollTop = item.offsetTop;\n      } else if (isOutOfLowerView) {\n        // eslint-disable-next-line no-mixed-operators\n        menu.scrollTop = item.offsetTop + item.clientHeight - menu.clientHeight;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setOpenDirection\", function () {\n      if (!_this.ref) return;\n\n      var menu = _this.ref.querySelector('.menu.visible');\n\n      if (!menu) return;\n\n      var dropdownRect = _this.ref.getBoundingClientRect();\n\n      var menuHeight = menu.clientHeight;\n      var spaceAtTheBottom = document.documentElement.clientHeight - dropdownRect.top - dropdownRect.height - menuHeight;\n      var spaceAtTheTop = dropdownRect.top - menuHeight;\n      var upward = spaceAtTheBottom < 0 && spaceAtTheTop > spaceAtTheBottom; // set state only if there's a relevant difference\n\n      if (!upward !== !_this.state.upward) {\n        _this.trySetState({\n          upward: upward\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"open\", function (e) {\n      var _this$props11 = _this.props,\n          disabled = _this$props11.disabled,\n          open = _this$props11.open,\n          search = _this$props11.search;\n      if (disabled) return;\n      if (search && _this.searchRef) _this.searchRef.focus();\n\n      _invoke(_this.props, 'onOpen', e, _this.props);\n\n      _this.trySetState({\n        open: true\n      });\n\n      _this.scrollSelectedItemIntoView();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"close\", function (e) {\n      var open = _this.state.open;\n\n      if (open) {\n        _invoke(_this.props, 'onClose', e, _this.props);\n\n        _this.trySetState({\n          open: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleClose\", function () {\n      var hasSearchFocus = document.activeElement === _this.searchRef;\n      var hasDropdownFocus = document.activeElement === _this.ref;\n      var hasFocus = hasSearchFocus || hasDropdownFocus; // https://github.com/Semantic-Org/Semantic-UI-React/issues/627\n      // Blur the Dropdown on close so it is blurred after selecting an item.\n      // This is to prevent it from re-opening when switching tabs after selecting an item.\n\n      if (!hasSearchFocus) {\n        _this.ref.blur();\n      } // We need to keep the virtual model in sync with the browser focus change\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/692\n\n\n      _this.setState({\n        focus: hasFocus\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"toggle\", function (e) {\n      return _this.state.open ? _this.close(e) : _this.open(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderText\", function () {\n      var _this$props12 = _this.props,\n          multiple = _this$props12.multiple,\n          placeholder = _this$props12.placeholder,\n          search = _this$props12.search,\n          text = _this$props12.text;\n      var _this$state4 = _this.state,\n          searchQuery = _this$state4.searchQuery,\n          value = _this$state4.value,\n          open = _this$state4.open;\n\n      var hasValue = _this.hasValue();\n\n      var classes = cx(placeholder && !hasValue && 'default', 'text', search && searchQuery && 'filtered');\n      var _text = placeholder;\n\n      if (searchQuery) {\n        _text = null;\n      } else if (text) {\n        _text = text;\n      } else if (open && !multiple) {\n        _text = _get(_this.getSelectedItem(), 'text');\n      } else if (hasValue) {\n        _text = _get(_this.getItemByValue(value), 'text');\n      }\n\n      return React.createElement(\"div\", {\n        className: classes,\n        role: \"alert\",\n        \"aria-live\": \"polite\"\n      }, _text);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderSearchInput\", function () {\n      var _this$props13 = _this.props,\n          search = _this$props13.search,\n          searchInput = _this$props13.searchInput;\n      var searchQuery = _this.state.searchQuery;\n      if (!search) return null;\n      return DropdownSearchInput.create(searchInput, {\n        defaultProps: {\n          inputRef: _this.handleSearchRef,\n          style: {\n            width: _this.computeSearchInputWidth()\n          },\n          tabIndex: _this.computeSearchInputTabIndex(),\n          value: searchQuery\n        },\n        overrideProps: _this.handleSearchInputOverrides\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderSearchSizer\", function () {\n      var _this$props14 = _this.props,\n          search = _this$props14.search,\n          multiple = _this$props14.multiple;\n      if (!(search && multiple)) return null;\n      return React.createElement(\"span\", {\n        className: \"sizer\",\n        ref: _this.handleSizerRef\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderLabels\", function () {\n      var _this$props15 = _this.props,\n          multiple = _this$props15.multiple,\n          renderLabel = _this$props15.renderLabel;\n      var _this$state5 = _this.state,\n          selectedLabel = _this$state5.selectedLabel,\n          value = _this$state5.value;\n\n      if (!multiple || _isEmpty(value)) {\n        return;\n      }\n\n      var selectedItems = _map(value, _this.getItemByValue); // if no item could be found for a given state value the selected item will be undefined\n      // compact the selectedItems so we only have actual objects left\n\n\n      return _map(_compact(selectedItems), function (item, index) {\n        var defaultProps = {\n          active: item.value === selectedLabel,\n          as: 'a',\n          key: getKeyOrValue(item.key, item.value),\n          onClick: _this.handleLabelClick,\n          onRemove: _this.handleLabelRemove,\n          value: item.value\n        };\n        return Label.create(renderLabel(item, index, defaultProps), {\n          defaultProps: defaultProps\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderOptions\", function () {\n      var _this$props16 = _this.props,\n          lazyLoad = _this$props16.lazyLoad,\n          multiple = _this$props16.multiple,\n          search = _this$props16.search,\n          noResultsMessage = _this$props16.noResultsMessage;\n      var _this$state6 = _this.state,\n          open = _this$state6.open,\n          selectedIndex = _this$state6.selectedIndex,\n          value = _this$state6.value; // lazy load, only render options when open\n\n      if (lazyLoad && !open) return null;\n\n      var options = _this.getMenuOptions();\n\n      if (noResultsMessage !== null && search && _isEmpty(options)) {\n        return React.createElement(\"div\", {\n          className: \"message\"\n        }, noResultsMessage);\n      }\n\n      var isActive = multiple ? function (optValue) {\n        return _includes(value, optValue);\n      } : function (optValue) {\n        return optValue === value;\n      };\n      return _map(options, function (opt, i) {\n        return DropdownItem.create(_objectSpread({\n          active: isActive(opt.value),\n          onClick: _this.handleItemClick,\n          selected: selectedIndex === i\n        }, opt, {\n          key: getKeyOrValue(opt.key, opt.value),\n          // Needed for handling click events on disabled items\n          style: _objectSpread({}, opt.style, {\n            pointerEvents: 'all'\n          })\n        }));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderMenu\", function () {\n      var _this$props17 = _this.props,\n          children = _this$props17.children,\n          direction = _this$props17.direction,\n          header = _this$props17.header;\n      var open = _this.state.open;\n\n      var ariaOptions = _this.getDropdownMenuAriaOptions(); // single menu child\n\n\n      if (!childrenUtils.isNil(children)) {\n        var menuChild = Children.only(children);\n        var className = cx(direction, useKeyOnly(open, 'visible'), menuChild.props.className);\n        return cloneElement(menuChild, _objectSpread({\n          className: className\n        }, ariaOptions));\n      }\n\n      return React.createElement(DropdownMenu, _extends({}, ariaOptions, {\n        direction: direction,\n        open: open\n      }), DropdownHeader.create(header, {\n        autoGenerateKey: false\n      }), _this.renderOptions());\n    });\n\n    return _this;\n  }\n\n  _createClass(Dropdown, [{\n    key: \"getInitialAutoControlledState\",\n    value: function getInitialAutoControlledState() {\n      return {\n        searchQuery: ''\n      };\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this$state7 = this.state,\n          open = _this$state7.open,\n          value = _this$state7.value;\n      this.setValue(value);\n      this.setSelectedIndex(value);\n\n      if (open) {\n        this.open();\n        this.attachHandlersOnOpen();\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      _get2(_getPrototypeOf(Dropdown.prototype), \"componentWillReceiveProps\", this).call(this, nextProps);\n      /* eslint-disable no-console */\n\n\n      if (process.env.NODE_ENV !== 'production') {\n        // in development, validate value type matches dropdown type\n        var isNextValueArray = Array.isArray(nextProps.value);\n\n        var hasValue = _has(nextProps, 'value');\n\n        if (hasValue && nextProps.multiple && !isNextValueArray) {\n          console.error('Dropdown `value` must be an array when `multiple` is set.' + \" Received type: `\".concat(Object.prototype.toString.call(nextProps.value), \"`.\"));\n        } else if (hasValue && !nextProps.multiple && isNextValueArray) {\n          console.error('Dropdown `value` must not be an array when `multiple` is not set.' + ' Either set `multiple={true}` or use a string or number value.');\n        }\n      }\n      /* eslint-enable no-console */\n\n\n      if (!shallowEqual(nextProps.value, this.props.value)) {\n        this.setValue(nextProps.value);\n        this.setSelectedIndex(nextProps.value);\n      } // The selected index is only dependent on option keys/values.\n      // We only check those properties to avoid recursive performance impacts.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/3000\n\n\n      if (!_isEqual(this.getKeyAndValues(nextProps.options), this.getKeyAndValues(this.props.options))) {\n        this.setSelectedIndex(undefined, nextProps.options);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      // eslint-disable-line complexity\n      // focused / blurred\n      if (!prevState.focus && this.state.focus) {\n        if (!this.isMouseDown) {\n          var _this$props18 = this.props,\n              minCharacters = _this$props18.minCharacters,\n              openOnFocus = _this$props18.openOnFocus,\n              search = _this$props18.search;\n          var openable = !search || search && minCharacters === 1 && !this.state.open;\n          if (openOnFocus && openable) this.open();\n        }\n\n        if (!this.state.open) {\n          eventStack.sub('keydown', [this.openOnArrow, this.openOnSpace]);\n        } else {\n          eventStack.sub('keydown', [this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n        }\n\n        eventStack.sub('keydown', this.removeItemOnBackspace);\n      } else if (prevState.focus && !this.state.focus) {\n        var closeOnBlur = this.props.closeOnBlur;\n\n        if (!this.isMouseDown && closeOnBlur) {\n          this.close();\n        }\n\n        eventStack.unsub('keydown', [this.openOnArrow, this.openOnSpace, this.moveSelectionOnKeyDown, this.selectItemOnEnter, this.removeItemOnBackspace]);\n      } // opened / closed\n\n\n      if (!prevState.open && this.state.open) {\n        this.attachHandlersOnOpen();\n        this.setOpenDirection();\n        this.scrollSelectedItemIntoView();\n      } else if (prevState.open && !this.state.open) {\n        this.handleClose();\n        eventStack.unsub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n        eventStack.unsub('click', this.closeOnDocumentClick);\n\n        if (!this.state.focus) {\n          eventStack.unsub('keydown', this.removeItemOnBackspace);\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      eventStack.unsub('keydown', [this.openOnArrow, this.openOnSpace, this.moveSelectionOnKeyDown, this.selectItemOnEnter, this.removeItemOnBackspace, this.closeOnEscape]);\n      eventStack.unsub('click', this.closeOnDocumentClick);\n    } // ----------------------------------------\n    // Document Event Handlers\n    // ----------------------------------------\n    // onChange needs to receive a value\n    // can't rely on props.value if we are controlled\n\n  }, {\n    key: \"getDropdownMenuAriaOptions\",\n    value: function getDropdownMenuAriaOptions() {\n      var _this$props19 = this.props,\n          search = _this$props19.search,\n          multiple = _this$props19.multiple;\n      var ariaOptions = {};\n\n      if (search) {\n        ariaOptions['aria-multiselectable'] = multiple;\n        ariaOptions.role = 'listbox';\n      }\n\n      return ariaOptions;\n    } // ----------------------------------------\n    // Setters\n    // ----------------------------------------\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props20 = this.props,\n          basic = _this$props20.basic,\n          button = _this$props20.button,\n          className = _this$props20.className,\n          compact = _this$props20.compact,\n          disabled = _this$props20.disabled,\n          error = _this$props20.error,\n          fluid = _this$props20.fluid,\n          floating = _this$props20.floating,\n          icon = _this$props20.icon,\n          inline = _this$props20.inline,\n          item = _this$props20.item,\n          labeled = _this$props20.labeled,\n          loading = _this$props20.loading,\n          multiple = _this$props20.multiple,\n          pointing = _this$props20.pointing,\n          search = _this$props20.search,\n          selection = _this$props20.selection,\n          scrolling = _this$props20.scrolling,\n          simple = _this$props20.simple,\n          trigger = _this$props20.trigger;\n      var _this$state8 = this.state,\n          open = _this$state8.open,\n          upward = _this$state8.upward; // Classes\n\n      var classes = cx('ui', useKeyOnly(open, 'active visible'), useKeyOnly(disabled, 'disabled'), useKeyOnly(error, 'error'), useKeyOnly(loading, 'loading'), useKeyOnly(basic, 'basic'), useKeyOnly(button, 'button'), useKeyOnly(compact, 'compact'), useKeyOnly(fluid, 'fluid'), useKeyOnly(floating, 'floating'), useKeyOnly(inline, 'inline'), // TODO: consider augmentation to render Dropdowns as Button/Menu, solves icon/link item issues\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/401#issuecomment-240487229\n      // TODO: the icon class is only required when a dropdown is a button\n      // useKeyOnly(icon, 'icon'),\n      useKeyOnly(labeled, 'labeled'), useKeyOnly(item, 'item'), useKeyOnly(multiple, 'multiple'), useKeyOnly(search, 'search'), useKeyOnly(selection, 'selection'), useKeyOnly(simple, 'simple'), useKeyOnly(scrolling, 'scrolling'), useKeyOnly(upward, 'upward'), useKeyOrValueAndKey(pointing, 'pointing'), 'dropdown', className);\n      var rest = getUnhandledProps(Dropdown, this.props);\n      var ElementType = getElementType(Dropdown, this.props);\n      var ariaOptions = this.getDropdownAriaOptions(ElementType, this.props);\n      return React.createElement(ElementType, _extends({}, rest, ariaOptions, {\n        className: classes,\n        onBlur: this.handleBlur,\n        onClick: this.handleClick,\n        onMouseDown: this.handleMouseDown,\n        onFocus: this.handleFocus,\n        onChange: this.handleChange,\n        tabIndex: this.computeTabIndex(),\n        ref: this.handleRef\n      }), this.renderLabels(), this.renderSearchInput(), this.renderSearchSizer(), trigger || this.renderText(), Icon.create(icon, {\n        overrideProps: this.handleIconOverrides,\n        autoGenerateKey: false\n      }), this.renderMenu());\n    }\n  }]);\n\n  return Dropdown;\n}(Component);\n\n_defineProperty(Dropdown, \"defaultProps\", {\n  additionLabel: 'Add ',\n  additionPosition: 'top',\n  closeOnBlur: true,\n  deburr: false,\n  icon: 'dropdown',\n  minCharacters: 1,\n  noResultsMessage: 'No results found.',\n  openOnFocus: true,\n  renderLabel: function renderLabel(_ref2) {\n    var text = _ref2.text;\n    return text;\n  },\n  searchInput: 'text',\n  selectOnBlur: true,\n  selectOnNavigation: true,\n  wrapSelection: true\n});\n\n_defineProperty(Dropdown, \"autoControlledProps\", ['open', 'searchQuery', 'selectedLabel', 'value', 'upward']);\n\n_defineProperty(Dropdown, \"Divider\", DropdownDivider);\n\n_defineProperty(Dropdown, \"Header\", DropdownHeader);\n\n_defineProperty(Dropdown, \"Item\", DropdownItem);\n\n_defineProperty(Dropdown, \"Menu\", DropdownMenu);\n\n_defineProperty(Dropdown, \"SearchInput\", DropdownSearchInput);\n\n_defineProperty(Dropdown, \"handledProps\", [\"additionLabel\", \"additionPosition\", \"allowAdditions\", \"as\", \"basic\", \"button\", \"children\", \"className\", \"clearable\", \"closeOnBlur\", \"closeOnChange\", \"compact\", \"deburr\", \"defaultOpen\", \"defaultSearchQuery\", \"defaultSelectedLabel\", \"defaultUpward\", \"defaultValue\", \"direction\", \"disabled\", \"error\", \"floating\", \"fluid\", \"header\", \"icon\", \"inline\", \"item\", \"labeled\", \"lazyLoad\", \"loading\", \"minCharacters\", \"multiple\", \"noResultsMessage\", \"onAddItem\", \"onBlur\", \"onChange\", \"onClick\", \"onClose\", \"onFocus\", \"onLabelClick\", \"onMouseDown\", \"onOpen\", \"onSearchChange\", \"open\", \"openOnFocus\", \"options\", \"placeholder\", \"pointing\", \"renderLabel\", \"scrolling\", \"search\", \"searchInput\", \"searchQuery\", \"selectOnBlur\", \"selectOnNavigation\", \"selectedLabel\", \"selection\", \"simple\", \"tabIndex\", \"text\", \"trigger\", \"upward\", \"value\", \"wrapSelection\"]);\n\nexport { Dropdown as default };\nDropdown.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: customPropTypes.as,\n\n  /** Label prefixed to an option added by a user. */\n  additionLabel: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n\n  /** Position of the `Add: ...` option in the dropdown list ('top' or 'bottom'). */\n  additionPosition: PropTypes.oneOf(['top', 'bottom']),\n\n  /**\n   * Allow user additions to the list of options (boolean).\n   * Requires the use of `selection`, `options` and `search`.\n   */\n  allowAdditions: customPropTypes.every([customPropTypes.demand(['options', 'selection', 'search']), PropTypes.bool]),\n\n  /** A Dropdown can reduce its complexity. */\n  basic: PropTypes.bool,\n\n  /** Format the Dropdown to appear as a button. */\n  button: PropTypes.bool,\n\n  /** Primary content. */\n  children: customPropTypes.every([customPropTypes.disallow(['options', 'selection']), customPropTypes.givenProps({\n    children: PropTypes.any.isRequired\n  }, PropTypes.element.isRequired)]),\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Using the clearable setting will let users remove their selection from a dropdown. */\n  clearable: PropTypes.bool,\n\n  /** Whether or not the menu should close when the dropdown is blurred. */\n  closeOnBlur: PropTypes.bool,\n\n  /**\n   * Whether or not the menu should close when a value is selected from the dropdown.\n   * By default, multiple selection dropdowns will remain open on change, while single\n   * selection dropdowns will close on change.\n   */\n  closeOnChange: PropTypes.bool,\n\n  /** A compact dropdown has no minimum width. */\n  compact: PropTypes.bool,\n\n  /** Whether or not the dropdown should strip diacritics in options and input search */\n  deburr: PropTypes.bool,\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n\n  /** Initial value of searchQuery. */\n  defaultSearchQuery: PropTypes.string,\n\n  /** Currently selected label in multi-select. */\n  defaultSelectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.number, PropTypes.string])]),\n\n  /** Initial value of upward. */\n  defaultUpward: PropTypes.bool,\n\n  /** Initial value or value array if multiple. */\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]))]),\n\n  /** A dropdown menu can open to the left or to the right. */\n  direction: PropTypes.oneOf(['left', 'right']),\n\n  /** A disabled dropdown menu or item does not allow user interaction. */\n  disabled: PropTypes.bool,\n\n  /** An errored dropdown can alert a user to a problem. */\n  error: PropTypes.bool,\n\n  /** A dropdown menu can contain floated content. */\n  floating: PropTypes.bool,\n\n  /** A dropdown can take the full width of its parent */\n  fluid: PropTypes.bool,\n\n  /** A dropdown menu can contain a header. */\n  header: PropTypes.node,\n\n  /** Shorthand for Icon. */\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n\n  /** A dropdown can be formatted to appear inline in other content. */\n  inline: PropTypes.bool,\n\n  /** A dropdown can be formatted as a Menu item. */\n  item: PropTypes.bool,\n\n  /** A dropdown can be labeled. */\n  labeled: PropTypes.bool,\n\n  /** A dropdown can defer rendering its options until it is open. */\n  lazyLoad: PropTypes.bool,\n\n  /** A dropdown can show that it is currently loading data. */\n  loading: PropTypes.bool,\n\n  /** The minimum characters for a search to begin showing results. */\n  minCharacters: PropTypes.number,\n\n  /** A selection dropdown can allow multiple selections. */\n  multiple: PropTypes.bool,\n\n  /** Message to display when there are no results. */\n  noResultsMessage: PropTypes.node,\n\n  /**\n   * Called when a user adds a new item. Use this to update the options list.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and the new item's value.\n   */\n  onAddItem: PropTypes.func,\n\n  /**\n   * Called on blur.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Called when the user attempts to change the value.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and proposed value.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Called on click.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Called when a close event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Called on focus.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Called when a multi-select label is clicked.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All label props.\n   */\n  onLabelClick: PropTypes.func,\n\n  /**\n   * Called on mousedown.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onMouseDown: PropTypes.func,\n\n  /**\n   * Called when an open event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Called on search input change.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props, includes current value of searchQuery.\n   */\n  onSearchChange: PropTypes.func,\n\n  /** Controls whether or not the dropdown menu is displayed. */\n  open: PropTypes.bool,\n\n  /** Whether or not the menu should open when the dropdown is focused. */\n  openOnFocus: PropTypes.bool,\n\n  /** Array of Dropdown.Item props e.g. `{ text: '', value: '' }` */\n  options: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.arrayOf(PropTypes.shape(DropdownItem.propTypes))]),\n\n  /** Placeholder text. */\n  placeholder: PropTypes.string,\n\n  /** A dropdown can be formatted so that its menu is pointing. */\n  pointing: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['left', 'right', 'top', 'top left', 'top right', 'bottom', 'bottom left', 'bottom right'])]),\n\n  /**\n   * Mapped over the active items and returns shorthand for the active item Labels.\n   * Only applies to `multiple` Dropdowns.\n   *\n   * @param {object} item - A currently active dropdown item.\n   * @param {number} index - The current index.\n   * @param {object} defaultLabelProps - The default props for an active item Label.\n   * @returns {*} Shorthand for a Label.\n   */\n  renderLabel: PropTypes.func,\n\n  /** A dropdown can have its menu scroll. */\n  scrolling: PropTypes.bool,\n\n  /**\n   * A selection dropdown can allow a user to search through a large list of choices.\n   * Pass a function here to replace the default search.\n   */\n  search: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n\n  /** A shorthand for a search input. */\n  searchInput: PropTypes.oneOfType([PropTypes.array, PropTypes.node, PropTypes.object]),\n\n  /** Current value of searchQuery. Creates a controlled component. */\n  searchQuery: PropTypes.string,\n  // TODO 'searchInMenu' or 'search='in menu' or ???  How to handle this markup and functionality?\n\n  /** Define whether the highlighted item should be selected on blur. */\n  selectOnBlur: PropTypes.bool,\n\n  /**\n   * Whether or not to change the value when navigating the menu using arrow keys.\n   * Setting to false will require enter or left click to confirm a choice.\n   */\n  selectOnNavigation: PropTypes.bool,\n\n  /** Currently selected label in multi-select. */\n  selectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.string, PropTypes.number])]),\n\n  /** A dropdown can be used to select between choices in a form. */\n  selection: customPropTypes.every([customPropTypes.disallow(['children']), customPropTypes.demand(['options']), PropTypes.bool]),\n\n  /** A simple dropdown can open without Javascript. */\n  simple: PropTypes.bool,\n\n  /** A dropdown can receive focus. */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /** The text displayed in the dropdown, usually for the active item. */\n  text: PropTypes.string,\n\n  /** Custom element to trigger the menu to become visible. Takes place of 'text'. */\n  trigger: customPropTypes.every([customPropTypes.disallow(['selection', 'text']), PropTypes.node]),\n\n  /** Current value or value array if multiple. Creates a controlled component. */\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number]))]),\n\n  /** Controls whether the dropdown will open upward. */\n  upward: PropTypes.bool,\n\n  /**\n   * A dropdown will go to the last element when ArrowUp is pressed on the first,\n   * or go to the first when ArrowDown is pressed on the last( aka infinite selection )\n   */\n  wrapSelection: PropTypes.bool\n} : {};","map":{"version":3,"sources":["/Users/morpheus/dev/frontend/skaffold-nginx-demo/node_modules/semantic-ui-react/dist/es/modules/Dropdown/Dropdown.js"],"names":["_extends","_objectSpread","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_get2","_inherits","_assertThisInitialized","_defineProperty","_compact","_map","_every","_without","_findIndex","_find","_reduce","_some","_escapeRegExp","_deburr","_isFunction","_filter","_pick","_dropRight","_isEmpty","_size","_difference","_union","_get","_includes","_isUndefined","_invoke","_isEqual","_has","_isNil","cx","keyboardKey","PropTypes","React","Children","cloneElement","shallowEqual","AutoControlledComponent","Component","childrenUtils","customPropTypes","doesNodeContainClick","eventStack","getElementType","getUnhandledProps","objectDiff","useKeyOnly","useKeyOrValueAndKey","Icon","Label","DropdownDivider","DropdownItem","DropdownHeader","DropdownMenu","DropdownSearchInput","getKeyOrValue","key","value","Dropdown","_Component","_getPrototypeOf2","_this","_len","arguments","length","args","Array","_key","call","apply","concat","e","props","_this$props","closeOnChange","multiple","shouldClose","close","getCode","Escape","preventDefault","_moves","_this$props2","selectOnNavigation","moves","ArrowDown","ArrowUp","move","undefined","moveSelectionBy","makeSelectedItemActive","Spacebar","state","open","code","_this$state","item","getSelectedItem","selectedValue","newValue","valueHasChanged","setValue","setSelectedIndex","handleChange","search","Enter","optionSize","getMenuOptions","clearSearchQuery","searchRef","focus","_this$props3","_this$state2","searchQuery","Backspace","closeOnBlur","ref","sub","closeOnEscape","moveSelectionOnKeyDown","selectItemOnEnter","removeItemOnBackspace","closeOnDocumentClick","unsub","openOnArrow","openOnSpace","isMouseDown","handleDocumentMouseUp","_this$props4","minCharacters","_this$state3","stopPropagation","toggle","clearable","hasValue","clearValue","_this$props5","disabled","nativeEvent","stopImmediatePropagation","isAdditionItem","setState","currentTarget","contains","document","activeElement","_this$props6","selectOnBlur","_ref","newQuery","trySetState","selectedIndex","options","map","option","_this$props7","additionLabel","additionPosition","allowAdditions","deburr","filteredOptions","opt","strippedQuery","re","RegExp","test","text","additionLabelElement","isValidElement","addItem","createElement","className","unshift","push","givenOptions","memo","index","_this$props8","loading","ariaOptions","role","optionsProps","enabledIndicies","getEnabledIndices","newSelectedIndex","firstIndex","getMenuItemIndexByValue","activeIndex","labelProps","selectedLabel","offset","startIndex","lastIndex","wrapSelection","nextIndex","scrollSelectedItemIntoView","predefinedProps","classes","onClick","handleIconClick","c","sizerRef","_this$props9","tabIndex","style","display","textContent","searchWidth","Math","ceil","getBoundingClientRect","width","removeProperty","_this$props10","onChange","inputProps","handleSearchChange","menu","querySelector","isOutOfUpperView","offsetTop","scrollTop","isOutOfLowerView","clientHeight","dropdownRect","menuHeight","spaceAtTheBottom","documentElement","top","height","spaceAtTheTop","upward","_this$props11","hasSearchFocus","hasDropdownFocus","hasFocus","blur","_this$props12","placeholder","_this$state4","_text","getItemByValue","_this$props13","searchInput","create","defaultProps","inputRef","handleSearchRef","computeSearchInputWidth","computeSearchInputTabIndex","overrideProps","handleSearchInputOverrides","_this$props14","handleSizerRef","_this$props15","renderLabel","_this$state5","selectedItems","active","as","handleLabelClick","onRemove","handleLabelRemove","_this$props16","lazyLoad","noResultsMessage","_this$state6","isActive","optValue","i","handleItemClick","selected","pointerEvents","_this$props17","children","direction","header","getDropdownMenuAriaOptions","isNil","menuChild","only","autoGenerateKey","renderOptions","getInitialAutoControlledState","componentWillMount","_this$state7","attachHandlersOnOpen","componentWillReceiveProps","nextProps","prototype","process","env","NODE_ENV","isNextValueArray","isArray","console","error","Object","toString","getKeyAndValues","shouldComponentUpdate","nextState","componentDidUpdate","prevProps","prevState","_this$props18","openOnFocus","openable","setOpenDirection","handleClose","componentWillUnmount","_this$props19","render","_this$props20","basic","button","compact","fluid","floating","icon","inline","labeled","pointing","selection","scrolling","simple","trigger","_this$state8","rest","ElementType","getDropdownAriaOptions","onBlur","handleBlur","handleClick","onMouseDown","handleMouseDown","onFocus","handleFocus","computeTabIndex","handleRef","renderLabels","renderSearchInput","renderSearchSizer","renderText","handleIconOverrides","renderMenu","_ref2","default","propTypes","oneOfType","element","string","oneOf","every","demand","bool","disallow","givenProps","any","isRequired","defaultOpen","defaultSearchQuery","defaultSelectedLabel","number","defaultUpward","defaultValue","arrayOf","node","object","onAddItem","func","onClose","onLabelClick","onOpen","onSearchChange","shape","array"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _get2 from \"@babel/runtime/helpers/get\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _compact from \"lodash/compact\";\nimport _map from \"lodash/map\";\nimport _every from \"lodash/every\";\nimport _without from \"lodash/without\";\nimport _findIndex from \"lodash/findIndex\";\nimport _find from \"lodash/find\";\nimport _reduce from \"lodash/reduce\";\nimport _some from \"lodash/some\";\nimport _escapeRegExp from \"lodash/escapeRegExp\";\nimport _deburr from \"lodash/deburr\";\nimport _isFunction from \"lodash/isFunction\";\nimport _filter from \"lodash/filter\";\nimport _pick from \"lodash/pick\";\nimport _dropRight from \"lodash/dropRight\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _size from \"lodash/size\";\nimport _difference from \"lodash/difference\";\nimport _union from \"lodash/union\";\nimport _get from \"lodash/get\";\nimport _includes from \"lodash/includes\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _invoke from \"lodash/invoke\";\nimport _isEqual from \"lodash/isEqual\";\nimport _has from \"lodash/has\";\nimport _isNil from \"lodash/isNil\";\nimport cx from 'classnames';\nimport keyboardKey from 'keyboard-key';\nimport PropTypes from 'prop-types';\nimport React, { Children, cloneElement } from 'react';\nimport shallowEqual from 'shallowequal';\nimport { AutoControlledComponent as Component, childrenUtils, customPropTypes, doesNodeContainClick, eventStack, getElementType, getUnhandledProps, objectDiff, useKeyOnly, useKeyOrValueAndKey } from '../../lib';\nimport Icon from '../../elements/Icon';\nimport Label from '../../elements/Label';\nimport DropdownDivider from './DropdownDivider';\nimport DropdownItem from './DropdownItem';\nimport DropdownHeader from './DropdownHeader';\nimport DropdownMenu from './DropdownMenu';\nimport DropdownSearchInput from './DropdownSearchInput';\n\nvar getKeyOrValue = function getKeyOrValue(key, value) {\n  return _isNil(key) ? value : key;\n};\n/**\n * A dropdown allows a user to select a value from a series of options.\n * @see Form\n * @see Select\n * @see Menu\n */\n\n\nvar Dropdown =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dropdown, _Component);\n\n  function Dropdown() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Dropdown);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Dropdown)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleChange\", function (e, value) {\n      _invoke(_this.props, 'onChange', e, _objectSpread({}, _this.props, {\n        value: value\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"closeOnChange\", function (e) {\n      var _this$props = _this.props,\n          closeOnChange = _this$props.closeOnChange,\n          multiple = _this$props.multiple;\n      var shouldClose = _isUndefined(closeOnChange) ? !multiple : closeOnChange;\n      if (shouldClose) _this.close(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"closeOnEscape\", function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Escape) return;\n      e.preventDefault();\n\n      _this.close();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"moveSelectionOnKeyDown\", function (e) {\n      var _moves;\n\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          selectOnNavigation = _this$props2.selectOnNavigation;\n      var moves = (_moves = {}, _defineProperty(_moves, keyboardKey.ArrowDown, 1), _defineProperty(_moves, keyboardKey.ArrowUp, -1), _moves);\n      var move = moves[keyboardKey.getCode(e)];\n      if (move === undefined) return;\n      e.preventDefault();\n\n      _this.moveSelectionBy(move);\n\n      if (!multiple && selectOnNavigation) _this.makeSelectedItemActive(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"openOnSpace\", function (e) {\n      if (keyboardKey.getCode(e) !== keyboardKey.Spacebar) return;\n      if (_this.state.open) return;\n      e.preventDefault();\n\n      _this.open(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"openOnArrow\", function (e) {\n      var code = keyboardKey.getCode(e);\n      if (!_includes([keyboardKey.ArrowDown, keyboardKey.ArrowUp], code)) return;\n      if (_this.state.open) return;\n      e.preventDefault();\n\n      _this.open(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"makeSelectedItemActive\", function (e) {\n      var _this$state = _this.state,\n          open = _this$state.open,\n          value = _this$state.value;\n      var multiple = _this.props.multiple;\n\n      var item = _this.getSelectedItem();\n\n      var selectedValue = _get(item, 'value'); // prevent selecting null if there was no selected item value\n      // prevent selecting duplicate items when the dropdown is closed\n\n\n      if (_isNil(selectedValue) || !open) return; // state value may be undefined\n\n      var newValue = multiple ? _union(_this.state.value, [selectedValue]) : selectedValue;\n      var valueHasChanged = multiple ? !!_difference(newValue, value).length : newValue !== value;\n\n      if (valueHasChanged) {\n        // notify the onChange prop that the user is trying to change value\n        _this.setValue(newValue);\n\n        _this.setSelectedIndex(newValue);\n\n        _this.handleChange(e, newValue); // Heads up! This event handler should be called after `onChange`\n        // Notify the onAddItem prop if this is a new value\n\n\n        if (item['data-additional']) {\n          _invoke(_this.props, 'onAddItem', e, _objectSpread({}, _this.props, {\n            value: selectedValue\n          }));\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"selectItemOnEnter\", function (e) {\n      var search = _this.props.search;\n      if (keyboardKey.getCode(e) !== keyboardKey.Enter) return;\n      e.preventDefault();\n\n      var optionSize = _size(_this.getMenuOptions());\n\n      if (search && optionSize === 0) return;\n\n      _this.makeSelectedItemActive(e);\n\n      _this.closeOnChange(e);\n\n      _this.clearSearchQuery();\n\n      if (search && _this.searchRef) _this.searchRef.focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"removeItemOnBackspace\", function (e) {\n      var _this$props3 = _this.props,\n          multiple = _this$props3.multiple,\n          search = _this$props3.search;\n      var _this$state2 = _this.state,\n          searchQuery = _this$state2.searchQuery,\n          value = _this$state2.value;\n      if (keyboardKey.getCode(e) !== keyboardKey.Backspace) return;\n      if (searchQuery || !search || !multiple || _isEmpty(value)) return;\n      e.preventDefault(); // remove most recent value\n\n      var newValue = _dropRight(value);\n\n      _this.setValue(newValue);\n\n      _this.setSelectedIndex(newValue);\n\n      _this.handleChange(e, newValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"closeOnDocumentClick\", function (e) {\n      if (!_this.props.closeOnBlur) return; // If event happened in the dropdown, ignore it\n\n      if (_this.ref && doesNodeContainClick(_this.ref, e)) return;\n\n      _this.close();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"attachHandlersOnOpen\", function () {\n      eventStack.sub('keydown', [_this.closeOnEscape, _this.moveSelectionOnKeyDown, _this.selectItemOnEnter, _this.removeItemOnBackspace]);\n      eventStack.sub('click', _this.closeOnDocumentClick);\n      eventStack.unsub('keydown', [_this.openOnArrow, _this.openOnSpace]);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMouseDown\", function (e) {\n      _this.isMouseDown = true;\n      eventStack.sub('mouseup', _this.handleDocumentMouseUp);\n\n      _invoke(_this.props, 'onMouseDown', e, _this.props);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleDocumentMouseUp\", function () {\n      _this.isMouseDown = false;\n      eventStack.unsub('mouseup', _this.handleDocumentMouseUp);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleClick\", function (e) {\n      var _this$props4 = _this.props,\n          minCharacters = _this$props4.minCharacters,\n          search = _this$props4.search;\n      var _this$state3 = _this.state,\n          open = _this$state3.open,\n          searchQuery = _this$state3.searchQuery;\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent closeOnDocumentClick()\n\n\n      e.stopPropagation();\n      if (!search) return _this.toggle(e);\n      if (open) return;\n\n      if (searchQuery.length >= minCharacters || minCharacters === 1) {\n        _this.open(e);\n\n        return;\n      }\n\n      if (_this.searchRef) _this.searchRef.focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleIconClick\", function (e) {\n      var clearable = _this.props.clearable;\n\n      var hasValue = _this.hasValue();\n\n      _invoke(_this.props, 'onClick', e, _this.props); // prevent handleClick()\n\n\n      e.stopPropagation();\n\n      if (clearable && hasValue) {\n        _this.clearValue(e);\n      } else {\n        _this.toggle(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleItemClick\", function (e, item) {\n      var _this$props5 = _this.props,\n          multiple = _this$props5.multiple,\n          search = _this$props5.search;\n      var value = item.value; // prevent toggle() in handleClick()\n\n      e.stopPropagation(); // prevent closeOnDocumentClick() if multiple or item is disabled\n\n      if (multiple || item.disabled) e.nativeEvent.stopImmediatePropagation();\n      if (item.disabled) return;\n      var isAdditionItem = item['data-additional'];\n      var newValue = multiple ? _union(_this.state.value, [value]) : value; // notify the onChange prop that the user is trying to change value\n\n      _this.setValue(newValue);\n\n      _this.setSelectedIndex(value);\n\n      _this.clearSearchQuery();\n\n      _this.handleChange(e, newValue);\n\n      _this.closeOnChange(e); // Heads up! This event handler should be called after `onChange`\n      // Notify the onAddItem prop if this is a new value\n\n\n      if (isAdditionItem) _invoke(_this.props, 'onAddItem', e, _objectSpread({}, _this.props, {\n        value: value\n      }));\n      if (multiple && search && _this.searchRef) _this.searchRef.focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleFocus\", function (e) {\n      var focus = _this.state.focus;\n      if (focus) return;\n\n      _invoke(_this.props, 'onFocus', e, _this.props);\n\n      _this.setState({\n        focus: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleBlur\", function (e) {\n      // Heads up! Don't remove this.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/1315\n      var currentTarget = _get(e, 'currentTarget');\n\n      if (currentTarget && currentTarget.contains(document.activeElement)) return;\n      var _this$props6 = _this.props,\n          closeOnBlur = _this$props6.closeOnBlur,\n          multiple = _this$props6.multiple,\n          selectOnBlur = _this$props6.selectOnBlur; // do not \"blur\" when the mouse is down inside of the Dropdown\n\n      if (_this.isMouseDown) return;\n\n      _invoke(_this.props, 'onBlur', e, _this.props);\n\n      if (selectOnBlur && !multiple) {\n        _this.makeSelectedItemActive(e);\n\n        if (closeOnBlur) _this.close();\n      }\n\n      _this.setState({\n        focus: false\n      });\n\n      _this.clearSearchQuery();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSearchChange\", function (e, _ref) {\n      var value = _ref.value;\n      // prevent propagating to this.props.onChange()\n      e.stopPropagation();\n      var minCharacters = _this.props.minCharacters;\n      var open = _this.state.open;\n      var newQuery = value;\n\n      _invoke(_this.props, 'onSearchChange', e, _objectSpread({}, _this.props, {\n        searchQuery: newQuery\n      }));\n\n      _this.trySetState({\n        searchQuery: newQuery\n      }, {\n        selectedIndex: 0\n      }); // open search dropdown on search query\n\n\n      if (!open && newQuery.length >= minCharacters) {\n        _this.open();\n\n        return;\n      } // close search dropdown if search query is too small\n\n\n      if (open && minCharacters !== 1 && newQuery.length < minCharacters) _this.close();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getKeyAndValues\", function (options) {\n      return options ? options.map(function (option) {\n        return _pick(option, ['key', 'value']);\n      }) : options;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getMenuOptions\", function () {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.value;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.props.options;\n      var _this$props7 = _this.props,\n          additionLabel = _this$props7.additionLabel,\n          additionPosition = _this$props7.additionPosition,\n          allowAdditions = _this$props7.allowAdditions,\n          deburr = _this$props7.deburr,\n          multiple = _this$props7.multiple,\n          search = _this$props7.search;\n      var searchQuery = _this.state.searchQuery;\n      var filteredOptions = options; // filter out active options\n\n      if (multiple) {\n        filteredOptions = _filter(filteredOptions, function (opt) {\n          return !_includes(value, opt.value);\n        });\n      } // filter by search query\n\n\n      if (search && searchQuery) {\n        if (_isFunction(search)) {\n          filteredOptions = search(filteredOptions, searchQuery);\n        } else {\n          // remove diacritics on search input and options, if deburr prop is set\n          var strippedQuery = deburr ? _deburr(searchQuery) : searchQuery;\n          var re = new RegExp(_escapeRegExp(strippedQuery), 'i');\n          filteredOptions = _filter(filteredOptions, function (opt) {\n            return re.test(deburr ? _deburr(opt.text) : opt.text);\n          });\n        }\n      } // insert the \"add\" item\n\n\n      if (allowAdditions && search && searchQuery && !_some(filteredOptions, {\n        text: searchQuery\n      })) {\n        var additionLabelElement = React.isValidElement(additionLabel) ? React.cloneElement(additionLabel, {\n          key: 'addition-label'\n        }) : additionLabel || '';\n        var addItem = {\n          key: 'addition',\n          // by using an array, we can pass multiple elements, but when doing so\n          // we must specify a `key` for React to know which one is which\n          text: [additionLabelElement, React.createElement(\"b\", {\n            key: \"addition-query\"\n          }, searchQuery)],\n          value: searchQuery,\n          className: 'addition',\n          'data-additional': true\n        };\n        if (additionPosition === 'top') filteredOptions.unshift(addItem);else filteredOptions.push(addItem);\n      }\n\n      return filteredOptions;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getSelectedItem\", function () {\n      var selectedIndex = _this.state.selectedIndex;\n\n      var options = _this.getMenuOptions();\n\n      return _get(options, \"[\".concat(selectedIndex, \"]\"));\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getEnabledIndices\", function (givenOptions) {\n      var options = givenOptions || _this.getMenuOptions();\n\n      return _reduce(options, function (memo, item, index) {\n        if (!item.disabled) memo.push(index);\n        return memo;\n      }, []);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getItemByValue\", function (value) {\n      var options = _this.props.options;\n      return _find(options, {\n        value: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getMenuItemIndexByValue\", function (value, givenOptions) {\n      var options = givenOptions || _this.getMenuOptions();\n\n      return _findIndex(options, ['value', value]);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getDropdownAriaOptions\", function () {\n      var _this$props8 = _this.props,\n          loading = _this$props8.loading,\n          disabled = _this$props8.disabled,\n          search = _this$props8.search,\n          multiple = _this$props8.multiple;\n      var open = _this.state.open;\n      var ariaOptions = {\n        role: search ? 'combobox' : 'listbox',\n        'aria-busy': loading,\n        'aria-disabled': disabled,\n        'aria-expanded': !!open\n      };\n\n      if (ariaOptions.role === 'listbox') {\n        ariaOptions['aria-multiselectable'] = multiple;\n      }\n\n      return ariaOptions;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"clearSearchQuery\", function () {\n      _this.trySetState({\n        searchQuery: ''\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setValue\", function (value) {\n      _this.trySetState({\n        value: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setSelectedIndex\", function () {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.value;\n      var optionsProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.props.options;\n      var multiple = _this.props.multiple;\n      var selectedIndex = _this.state.selectedIndex;\n\n      var options = _this.getMenuOptions(value, optionsProps);\n\n      var enabledIndicies = _this.getEnabledIndices(options);\n\n      var newSelectedIndex; // update the selected index\n\n      if (!selectedIndex || selectedIndex < 0) {\n        var firstIndex = enabledIndicies[0]; // Select the currently active item, if none, use the first item.\n        // Multiple selects remove active items from the list,\n        // their initial selected index should be 0.\n\n        newSelectedIndex = multiple ? firstIndex : _this.getMenuItemIndexByValue(value, options) || enabledIndicies[0];\n      } else if (multiple) {\n        // multiple selects remove options from the menu as they are made active\n        // keep the selected index within range of the remaining items\n        if (selectedIndex >= options.length - 1) {\n          newSelectedIndex = enabledIndicies[enabledIndicies.length - 1];\n        }\n      } else {\n        var activeIndex = _this.getMenuItemIndexByValue(value, options); // regular selects can only have one active item\n        // set the selected index to the currently active item\n\n\n        newSelectedIndex = _includes(enabledIndicies, activeIndex) ? activeIndex : undefined;\n      }\n\n      if (!newSelectedIndex || newSelectedIndex < 0) {\n        newSelectedIndex = enabledIndicies[0];\n      }\n\n      _this.setState({\n        selectedIndex: newSelectedIndex\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleLabelClick\", function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n\n      _this.setState({\n        selectedLabel: labelProps.value\n      });\n\n      _invoke(_this.props, 'onLabelClick', e, labelProps);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleLabelRemove\", function (e, labelProps) {\n      // prevent focusing search input on click\n      e.stopPropagation();\n      var value = _this.state.value;\n\n      var newValue = _without(value, labelProps.value);\n\n      _this.setValue(newValue);\n\n      _this.setSelectedIndex(newValue);\n\n      _this.handleChange(e, newValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"moveSelectionBy\", function (offset) {\n      var startIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.selectedIndex;\n\n      var options = _this.getMenuOptions(); // Prevent infinite loop\n      // TODO: remove left part of condition after children API will be removed\n\n\n      if (options === undefined || _every(options, 'disabled')) return;\n      var lastIndex = options.length - 1;\n      var wrapSelection = _this.props.wrapSelection; // next is after last, wrap to beginning\n      // next is before first, wrap to end\n\n      var nextIndex = startIndex + offset; // if 'wrapSelection' is set to false and selection is after last or before first, it just does not change\n\n      if (!wrapSelection && (nextIndex > lastIndex || nextIndex < 0)) {\n        nextIndex = startIndex;\n      } else if (nextIndex > lastIndex) nextIndex = 0;else if (nextIndex < 0) nextIndex = lastIndex;\n\n      if (options[nextIndex].disabled) {\n        _this.moveSelectionBy(offset, nextIndex);\n\n        return;\n      }\n\n      _this.setState({\n        selectedIndex: nextIndex\n      });\n\n      _this.scrollSelectedItemIntoView();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleIconOverrides\", function (predefinedProps) {\n      var clearable = _this.props.clearable;\n      var classes = cx(clearable && _this.hasValue() && 'clear', predefinedProps.className);\n      return {\n        className: classes,\n        onClick: function onClick(e) {\n          _invoke(predefinedProps, 'onClick', e, predefinedProps);\n\n          _this.handleIconClick(e);\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSearchRef\", function (c) {\n      return _this.searchRef = c;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSizerRef\", function (c) {\n      return _this.sizerRef = c;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleRef\", function (c) {\n      return _this.ref = c;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"clearValue\", function (e) {\n      var multiple = _this.props.multiple;\n      var newValue = multiple ? [] : '';\n\n      _this.setValue(newValue);\n\n      _this.setSelectedIndex(newValue);\n\n      _this.handleChange(e, newValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"computeSearchInputTabIndex\", function () {\n      var _this$props9 = _this.props,\n          disabled = _this$props9.disabled,\n          tabIndex = _this$props9.tabIndex;\n      if (!_isNil(tabIndex)) return tabIndex;\n      return disabled ? -1 : 0;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"computeSearchInputWidth\", function () {\n      var searchQuery = _this.state.searchQuery;\n\n      if (_this.sizerRef && searchQuery) {\n        // resize the search input, temporarily show the sizer so we can measure it\n        _this.sizerRef.style.display = 'inline';\n        _this.sizerRef.textContent = searchQuery;\n        var searchWidth = Math.ceil(_this.sizerRef.getBoundingClientRect().width);\n\n        _this.sizerRef.style.removeProperty('display');\n\n        return searchWidth;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"computeTabIndex\", function () {\n      var _this$props10 = _this.props,\n          disabled = _this$props10.disabled,\n          search = _this$props10.search,\n          tabIndex = _this$props10.tabIndex; // don't set a root node tabIndex as the search input has its own tabIndex\n\n      if (search) return undefined;\n      if (disabled) return -1;\n      return _isNil(tabIndex) ? 0 : tabIndex;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSearchInputOverrides\", function (predefinedProps) {\n      return {\n        onChange: function onChange(e, inputProps) {\n          _invoke(predefinedProps, 'onChange', e, inputProps);\n\n          _this.handleSearchChange(e, inputProps);\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"hasValue\", function () {\n      var multiple = _this.props.multiple;\n      var value = _this.state.value;\n      return multiple ? !_isEmpty(value) : !_isNil(value) && value !== '';\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"scrollSelectedItemIntoView\", function () {\n      if (!_this.ref) return;\n\n      var menu = _this.ref.querySelector('.menu.visible');\n\n      if (!menu) return;\n      var item = menu.querySelector('.item.selected');\n      if (!item) return;\n      var isOutOfUpperView = item.offsetTop < menu.scrollTop;\n      var isOutOfLowerView = item.offsetTop + item.clientHeight > menu.scrollTop + menu.clientHeight;\n\n      if (isOutOfUpperView) {\n        menu.scrollTop = item.offsetTop;\n      } else if (isOutOfLowerView) {\n        // eslint-disable-next-line no-mixed-operators\n        menu.scrollTop = item.offsetTop + item.clientHeight - menu.clientHeight;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setOpenDirection\", function () {\n      if (!_this.ref) return;\n\n      var menu = _this.ref.querySelector('.menu.visible');\n\n      if (!menu) return;\n\n      var dropdownRect = _this.ref.getBoundingClientRect();\n\n      var menuHeight = menu.clientHeight;\n      var spaceAtTheBottom = document.documentElement.clientHeight - dropdownRect.top - dropdownRect.height - menuHeight;\n      var spaceAtTheTop = dropdownRect.top - menuHeight;\n      var upward = spaceAtTheBottom < 0 && spaceAtTheTop > spaceAtTheBottom; // set state only if there's a relevant difference\n\n      if (!upward !== !_this.state.upward) {\n        _this.trySetState({\n          upward: upward\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"open\", function (e) {\n      var _this$props11 = _this.props,\n          disabled = _this$props11.disabled,\n          open = _this$props11.open,\n          search = _this$props11.search;\n      if (disabled) return;\n      if (search && _this.searchRef) _this.searchRef.focus();\n\n      _invoke(_this.props, 'onOpen', e, _this.props);\n\n      _this.trySetState({\n        open: true\n      });\n\n      _this.scrollSelectedItemIntoView();\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"close\", function (e) {\n      var open = _this.state.open;\n\n      if (open) {\n        _invoke(_this.props, 'onClose', e, _this.props);\n\n        _this.trySetState({\n          open: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleClose\", function () {\n      var hasSearchFocus = document.activeElement === _this.searchRef;\n      var hasDropdownFocus = document.activeElement === _this.ref;\n      var hasFocus = hasSearchFocus || hasDropdownFocus; // https://github.com/Semantic-Org/Semantic-UI-React/issues/627\n      // Blur the Dropdown on close so it is blurred after selecting an item.\n      // This is to prevent it from re-opening when switching tabs after selecting an item.\n\n      if (!hasSearchFocus) {\n        _this.ref.blur();\n      } // We need to keep the virtual model in sync with the browser focus change\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/692\n\n\n      _this.setState({\n        focus: hasFocus\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"toggle\", function (e) {\n      return _this.state.open ? _this.close(e) : _this.open(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderText\", function () {\n      var _this$props12 = _this.props,\n          multiple = _this$props12.multiple,\n          placeholder = _this$props12.placeholder,\n          search = _this$props12.search,\n          text = _this$props12.text;\n      var _this$state4 = _this.state,\n          searchQuery = _this$state4.searchQuery,\n          value = _this$state4.value,\n          open = _this$state4.open;\n\n      var hasValue = _this.hasValue();\n\n      var classes = cx(placeholder && !hasValue && 'default', 'text', search && searchQuery && 'filtered');\n      var _text = placeholder;\n\n      if (searchQuery) {\n        _text = null;\n      } else if (text) {\n        _text = text;\n      } else if (open && !multiple) {\n        _text = _get(_this.getSelectedItem(), 'text');\n      } else if (hasValue) {\n        _text = _get(_this.getItemByValue(value), 'text');\n      }\n\n      return React.createElement(\"div\", {\n        className: classes,\n        role: \"alert\",\n        \"aria-live\": \"polite\"\n      }, _text);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderSearchInput\", function () {\n      var _this$props13 = _this.props,\n          search = _this$props13.search,\n          searchInput = _this$props13.searchInput;\n      var searchQuery = _this.state.searchQuery;\n      if (!search) return null;\n      return DropdownSearchInput.create(searchInput, {\n        defaultProps: {\n          inputRef: _this.handleSearchRef,\n          style: {\n            width: _this.computeSearchInputWidth()\n          },\n          tabIndex: _this.computeSearchInputTabIndex(),\n          value: searchQuery\n        },\n        overrideProps: _this.handleSearchInputOverrides\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderSearchSizer\", function () {\n      var _this$props14 = _this.props,\n          search = _this$props14.search,\n          multiple = _this$props14.multiple;\n      if (!(search && multiple)) return null;\n      return React.createElement(\"span\", {\n        className: \"sizer\",\n        ref: _this.handleSizerRef\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderLabels\", function () {\n      var _this$props15 = _this.props,\n          multiple = _this$props15.multiple,\n          renderLabel = _this$props15.renderLabel;\n      var _this$state5 = _this.state,\n          selectedLabel = _this$state5.selectedLabel,\n          value = _this$state5.value;\n\n      if (!multiple || _isEmpty(value)) {\n        return;\n      }\n\n      var selectedItems = _map(value, _this.getItemByValue);\n\n      // if no item could be found for a given state value the selected item will be undefined\n      // compact the selectedItems so we only have actual objects left\n      return _map(_compact(selectedItems), function (item, index) {\n        var defaultProps = {\n          active: item.value === selectedLabel,\n          as: 'a',\n          key: getKeyOrValue(item.key, item.value),\n          onClick: _this.handleLabelClick,\n          onRemove: _this.handleLabelRemove,\n          value: item.value\n        };\n        return Label.create(renderLabel(item, index, defaultProps), {\n          defaultProps: defaultProps\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderOptions\", function () {\n      var _this$props16 = _this.props,\n          lazyLoad = _this$props16.lazyLoad,\n          multiple = _this$props16.multiple,\n          search = _this$props16.search,\n          noResultsMessage = _this$props16.noResultsMessage;\n      var _this$state6 = _this.state,\n          open = _this$state6.open,\n          selectedIndex = _this$state6.selectedIndex,\n          value = _this$state6.value; // lazy load, only render options when open\n\n      if (lazyLoad && !open) return null;\n\n      var options = _this.getMenuOptions();\n\n      if (noResultsMessage !== null && search && _isEmpty(options)) {\n        return React.createElement(\"div\", {\n          className: \"message\"\n        }, noResultsMessage);\n      }\n\n      var isActive = multiple ? function (optValue) {\n        return _includes(value, optValue);\n      } : function (optValue) {\n        return optValue === value;\n      };\n      return _map(options, function (opt, i) {\n        return DropdownItem.create(_objectSpread({\n          active: isActive(opt.value),\n          onClick: _this.handleItemClick,\n          selected: selectedIndex === i\n        }, opt, {\n          key: getKeyOrValue(opt.key, opt.value),\n          // Needed for handling click events on disabled items\n          style: _objectSpread({}, opt.style, {\n            pointerEvents: 'all'\n          })\n        }));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderMenu\", function () {\n      var _this$props17 = _this.props,\n          children = _this$props17.children,\n          direction = _this$props17.direction,\n          header = _this$props17.header;\n      var open = _this.state.open;\n\n      var ariaOptions = _this.getDropdownMenuAriaOptions(); // single menu child\n\n\n      if (!childrenUtils.isNil(children)) {\n        var menuChild = Children.only(children);\n        var className = cx(direction, useKeyOnly(open, 'visible'), menuChild.props.className);\n        return cloneElement(menuChild, _objectSpread({\n          className: className\n        }, ariaOptions));\n      }\n\n      return React.createElement(DropdownMenu, _extends({}, ariaOptions, {\n        direction: direction,\n        open: open\n      }), DropdownHeader.create(header, {\n        autoGenerateKey: false\n      }), _this.renderOptions());\n    });\n\n    return _this;\n  }\n\n  _createClass(Dropdown, [{\n    key: \"getInitialAutoControlledState\",\n    value: function getInitialAutoControlledState() {\n      return {\n        searchQuery: ''\n      };\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this$state7 = this.state,\n          open = _this$state7.open,\n          value = _this$state7.value;\n      this.setValue(value);\n      this.setSelectedIndex(value);\n\n      if (open) {\n        this.open();\n        this.attachHandlersOnOpen();\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      _get2(_getPrototypeOf(Dropdown.prototype), \"componentWillReceiveProps\", this).call(this, nextProps);\n\n      /* eslint-disable no-console */\n      if (process.env.NODE_ENV !== 'production') {\n        // in development, validate value type matches dropdown type\n        var isNextValueArray = Array.isArray(nextProps.value);\n\n        var hasValue = _has(nextProps, 'value');\n\n        if (hasValue && nextProps.multiple && !isNextValueArray) {\n          console.error('Dropdown `value` must be an array when `multiple` is set.' + \" Received type: `\".concat(Object.prototype.toString.call(nextProps.value), \"`.\"));\n        } else if (hasValue && !nextProps.multiple && isNextValueArray) {\n          console.error('Dropdown `value` must not be an array when `multiple` is not set.' + ' Either set `multiple={true}` or use a string or number value.');\n        }\n      }\n      /* eslint-enable no-console */\n\n\n      if (!shallowEqual(nextProps.value, this.props.value)) {\n        this.setValue(nextProps.value);\n        this.setSelectedIndex(nextProps.value);\n      } // The selected index is only dependent on option keys/values.\n      // We only check those properties to avoid recursive performance impacts.\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/3000\n\n\n      if (!_isEqual(this.getKeyAndValues(nextProps.options), this.getKeyAndValues(this.props.options))) {\n        this.setSelectedIndex(undefined, nextProps.options);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !shallowEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      // eslint-disable-line complexity\n      // focused / blurred\n      if (!prevState.focus && this.state.focus) {\n        if (!this.isMouseDown) {\n          var _this$props18 = this.props,\n              minCharacters = _this$props18.minCharacters,\n              openOnFocus = _this$props18.openOnFocus,\n              search = _this$props18.search;\n          var openable = !search || search && minCharacters === 1 && !this.state.open;\n          if (openOnFocus && openable) this.open();\n        }\n\n        if (!this.state.open) {\n          eventStack.sub('keydown', [this.openOnArrow, this.openOnSpace]);\n        } else {\n          eventStack.sub('keydown', [this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n        }\n\n        eventStack.sub('keydown', this.removeItemOnBackspace);\n      } else if (prevState.focus && !this.state.focus) {\n        var closeOnBlur = this.props.closeOnBlur;\n\n        if (!this.isMouseDown && closeOnBlur) {\n          this.close();\n        }\n\n        eventStack.unsub('keydown', [this.openOnArrow, this.openOnSpace, this.moveSelectionOnKeyDown, this.selectItemOnEnter, this.removeItemOnBackspace]);\n      } // opened / closed\n\n\n      if (!prevState.open && this.state.open) {\n        this.attachHandlersOnOpen();\n        this.setOpenDirection();\n        this.scrollSelectedItemIntoView();\n      } else if (prevState.open && !this.state.open) {\n        this.handleClose();\n        eventStack.unsub('keydown', [this.closeOnEscape, this.moveSelectionOnKeyDown, this.selectItemOnEnter]);\n        eventStack.unsub('click', this.closeOnDocumentClick);\n\n        if (!this.state.focus) {\n          eventStack.unsub('keydown', this.removeItemOnBackspace);\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      eventStack.unsub('keydown', [this.openOnArrow, this.openOnSpace, this.moveSelectionOnKeyDown, this.selectItemOnEnter, this.removeItemOnBackspace, this.closeOnEscape]);\n      eventStack.unsub('click', this.closeOnDocumentClick);\n    } // ----------------------------------------\n    // Document Event Handlers\n    // ----------------------------------------\n    // onChange needs to receive a value\n    // can't rely on props.value if we are controlled\n\n  }, {\n    key: \"getDropdownMenuAriaOptions\",\n    value: function getDropdownMenuAriaOptions() {\n      var _this$props19 = this.props,\n          search = _this$props19.search,\n          multiple = _this$props19.multiple;\n      var ariaOptions = {};\n\n      if (search) {\n        ariaOptions['aria-multiselectable'] = multiple;\n        ariaOptions.role = 'listbox';\n      }\n\n      return ariaOptions;\n    } // ----------------------------------------\n    // Setters\n    // ----------------------------------------\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props20 = this.props,\n          basic = _this$props20.basic,\n          button = _this$props20.button,\n          className = _this$props20.className,\n          compact = _this$props20.compact,\n          disabled = _this$props20.disabled,\n          error = _this$props20.error,\n          fluid = _this$props20.fluid,\n          floating = _this$props20.floating,\n          icon = _this$props20.icon,\n          inline = _this$props20.inline,\n          item = _this$props20.item,\n          labeled = _this$props20.labeled,\n          loading = _this$props20.loading,\n          multiple = _this$props20.multiple,\n          pointing = _this$props20.pointing,\n          search = _this$props20.search,\n          selection = _this$props20.selection,\n          scrolling = _this$props20.scrolling,\n          simple = _this$props20.simple,\n          trigger = _this$props20.trigger;\n      var _this$state8 = this.state,\n          open = _this$state8.open,\n          upward = _this$state8.upward; // Classes\n\n      var classes = cx('ui', useKeyOnly(open, 'active visible'), useKeyOnly(disabled, 'disabled'), useKeyOnly(error, 'error'), useKeyOnly(loading, 'loading'), useKeyOnly(basic, 'basic'), useKeyOnly(button, 'button'), useKeyOnly(compact, 'compact'), useKeyOnly(fluid, 'fluid'), useKeyOnly(floating, 'floating'), useKeyOnly(inline, 'inline'), // TODO: consider augmentation to render Dropdowns as Button/Menu, solves icon/link item issues\n      // https://github.com/Semantic-Org/Semantic-UI-React/issues/401#issuecomment-240487229\n      // TODO: the icon class is only required when a dropdown is a button\n      // useKeyOnly(icon, 'icon'),\n      useKeyOnly(labeled, 'labeled'), useKeyOnly(item, 'item'), useKeyOnly(multiple, 'multiple'), useKeyOnly(search, 'search'), useKeyOnly(selection, 'selection'), useKeyOnly(simple, 'simple'), useKeyOnly(scrolling, 'scrolling'), useKeyOnly(upward, 'upward'), useKeyOrValueAndKey(pointing, 'pointing'), 'dropdown', className);\n      var rest = getUnhandledProps(Dropdown, this.props);\n      var ElementType = getElementType(Dropdown, this.props);\n      var ariaOptions = this.getDropdownAriaOptions(ElementType, this.props);\n      return React.createElement(ElementType, _extends({}, rest, ariaOptions, {\n        className: classes,\n        onBlur: this.handleBlur,\n        onClick: this.handleClick,\n        onMouseDown: this.handleMouseDown,\n        onFocus: this.handleFocus,\n        onChange: this.handleChange,\n        tabIndex: this.computeTabIndex(),\n        ref: this.handleRef\n      }), this.renderLabels(), this.renderSearchInput(), this.renderSearchSizer(), trigger || this.renderText(), Icon.create(icon, {\n        overrideProps: this.handleIconOverrides,\n        autoGenerateKey: false\n      }), this.renderMenu());\n    }\n  }]);\n\n  return Dropdown;\n}(Component);\n\n_defineProperty(Dropdown, \"defaultProps\", {\n  additionLabel: 'Add ',\n  additionPosition: 'top',\n  closeOnBlur: true,\n  deburr: false,\n  icon: 'dropdown',\n  minCharacters: 1,\n  noResultsMessage: 'No results found.',\n  openOnFocus: true,\n  renderLabel: function renderLabel(_ref2) {\n    var text = _ref2.text;\n    return text;\n  },\n  searchInput: 'text',\n  selectOnBlur: true,\n  selectOnNavigation: true,\n  wrapSelection: true\n});\n\n_defineProperty(Dropdown, \"autoControlledProps\", ['open', 'searchQuery', 'selectedLabel', 'value', 'upward']);\n\n_defineProperty(Dropdown, \"Divider\", DropdownDivider);\n\n_defineProperty(Dropdown, \"Header\", DropdownHeader);\n\n_defineProperty(Dropdown, \"Item\", DropdownItem);\n\n_defineProperty(Dropdown, \"Menu\", DropdownMenu);\n\n_defineProperty(Dropdown, \"SearchInput\", DropdownSearchInput);\n\n_defineProperty(Dropdown, \"handledProps\", [\"additionLabel\", \"additionPosition\", \"allowAdditions\", \"as\", \"basic\", \"button\", \"children\", \"className\", \"clearable\", \"closeOnBlur\", \"closeOnChange\", \"compact\", \"deburr\", \"defaultOpen\", \"defaultSearchQuery\", \"defaultSelectedLabel\", \"defaultUpward\", \"defaultValue\", \"direction\", \"disabled\", \"error\", \"floating\", \"fluid\", \"header\", \"icon\", \"inline\", \"item\", \"labeled\", \"lazyLoad\", \"loading\", \"minCharacters\", \"multiple\", \"noResultsMessage\", \"onAddItem\", \"onBlur\", \"onChange\", \"onClick\", \"onClose\", \"onFocus\", \"onLabelClick\", \"onMouseDown\", \"onOpen\", \"onSearchChange\", \"open\", \"openOnFocus\", \"options\", \"placeholder\", \"pointing\", \"renderLabel\", \"scrolling\", \"search\", \"searchInput\", \"searchQuery\", \"selectOnBlur\", \"selectOnNavigation\", \"selectedLabel\", \"selection\", \"simple\", \"tabIndex\", \"text\", \"trigger\", \"upward\", \"value\", \"wrapSelection\"]);\n\nexport { Dropdown as default };\nDropdown.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** An element type to render as (string or function). */\n  as: customPropTypes.as,\n\n  /** Label prefixed to an option added by a user. */\n  additionLabel: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n\n  /** Position of the `Add: ...` option in the dropdown list ('top' or 'bottom'). */\n  additionPosition: PropTypes.oneOf(['top', 'bottom']),\n\n  /**\n   * Allow user additions to the list of options (boolean).\n   * Requires the use of `selection`, `options` and `search`.\n   */\n  allowAdditions: customPropTypes.every([customPropTypes.demand(['options', 'selection', 'search']), PropTypes.bool]),\n\n  /** A Dropdown can reduce its complexity. */\n  basic: PropTypes.bool,\n\n  /** Format the Dropdown to appear as a button. */\n  button: PropTypes.bool,\n\n  /** Primary content. */\n  children: customPropTypes.every([customPropTypes.disallow(['options', 'selection']), customPropTypes.givenProps({\n    children: PropTypes.any.isRequired\n  }, PropTypes.element.isRequired)]),\n\n  /** Additional classes. */\n  className: PropTypes.string,\n\n  /** Using the clearable setting will let users remove their selection from a dropdown. */\n  clearable: PropTypes.bool,\n\n  /** Whether or not the menu should close when the dropdown is blurred. */\n  closeOnBlur: PropTypes.bool,\n\n  /**\n   * Whether or not the menu should close when a value is selected from the dropdown.\n   * By default, multiple selection dropdowns will remain open on change, while single\n   * selection dropdowns will close on change.\n   */\n  closeOnChange: PropTypes.bool,\n\n  /** A compact dropdown has no minimum width. */\n  compact: PropTypes.bool,\n\n  /** Whether or not the dropdown should strip diacritics in options and input search */\n  deburr: PropTypes.bool,\n\n  /** Initial value of open. */\n  defaultOpen: PropTypes.bool,\n\n  /** Initial value of searchQuery. */\n  defaultSearchQuery: PropTypes.string,\n\n  /** Currently selected label in multi-select. */\n  defaultSelectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.number, PropTypes.string])]),\n\n  /** Initial value of upward. */\n  defaultUpward: PropTypes.bool,\n\n  /** Initial value or value array if multiple. */\n  defaultValue: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.bool, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]))]),\n\n  /** A dropdown menu can open to the left or to the right. */\n  direction: PropTypes.oneOf(['left', 'right']),\n\n  /** A disabled dropdown menu or item does not allow user interaction. */\n  disabled: PropTypes.bool,\n\n  /** An errored dropdown can alert a user to a problem. */\n  error: PropTypes.bool,\n\n  /** A dropdown menu can contain floated content. */\n  floating: PropTypes.bool,\n\n  /** A dropdown can take the full width of its parent */\n  fluid: PropTypes.bool,\n\n  /** A dropdown menu can contain a header. */\n  header: PropTypes.node,\n\n  /** Shorthand for Icon. */\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.object]),\n\n  /** A dropdown can be formatted to appear inline in other content. */\n  inline: PropTypes.bool,\n\n  /** A dropdown can be formatted as a Menu item. */\n  item: PropTypes.bool,\n\n  /** A dropdown can be labeled. */\n  labeled: PropTypes.bool,\n\n  /** A dropdown can defer rendering its options until it is open. */\n  lazyLoad: PropTypes.bool,\n\n  /** A dropdown can show that it is currently loading data. */\n  loading: PropTypes.bool,\n\n  /** The minimum characters for a search to begin showing results. */\n  minCharacters: PropTypes.number,\n\n  /** A selection dropdown can allow multiple selections. */\n  multiple: PropTypes.bool,\n\n  /** Message to display when there are no results. */\n  noResultsMessage: PropTypes.node,\n\n  /**\n   * Called when a user adds a new item. Use this to update the options list.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and the new item's value.\n   */\n  onAddItem: PropTypes.func,\n\n  /**\n   * Called on blur.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Called when the user attempts to change the value.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props and proposed value.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Called on click.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Called when a close event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Called on focus.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Called when a multi-select label is clicked.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All label props.\n   */\n  onLabelClick: PropTypes.func,\n\n  /**\n   * Called on mousedown.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onMouseDown: PropTypes.func,\n\n  /**\n   * Called when an open event happens.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * Called on search input change.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props, includes current value of searchQuery.\n   */\n  onSearchChange: PropTypes.func,\n\n  /** Controls whether or not the dropdown menu is displayed. */\n  open: PropTypes.bool,\n\n  /** Whether or not the menu should open when the dropdown is focused. */\n  openOnFocus: PropTypes.bool,\n\n  /** Array of Dropdown.Item props e.g. `{ text: '', value: '' }` */\n  options: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.arrayOf(PropTypes.shape(DropdownItem.propTypes))]),\n\n  /** Placeholder text. */\n  placeholder: PropTypes.string,\n\n  /** A dropdown can be formatted so that its menu is pointing. */\n  pointing: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['left', 'right', 'top', 'top left', 'top right', 'bottom', 'bottom left', 'bottom right'])]),\n\n  /**\n   * Mapped over the active items and returns shorthand for the active item Labels.\n   * Only applies to `multiple` Dropdowns.\n   *\n   * @param {object} item - A currently active dropdown item.\n   * @param {number} index - The current index.\n   * @param {object} defaultLabelProps - The default props for an active item Label.\n   * @returns {*} Shorthand for a Label.\n   */\n  renderLabel: PropTypes.func,\n\n  /** A dropdown can have its menu scroll. */\n  scrolling: PropTypes.bool,\n\n  /**\n   * A selection dropdown can allow a user to search through a large list of choices.\n   * Pass a function here to replace the default search.\n   */\n  search: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n\n  /** A shorthand for a search input. */\n  searchInput: PropTypes.oneOfType([PropTypes.array, PropTypes.node, PropTypes.object]),\n\n  /** Current value of searchQuery. Creates a controlled component. */\n  searchQuery: PropTypes.string,\n  // TODO 'searchInMenu' or 'search='in menu' or ???  How to handle this markup and functionality?\n\n  /** Define whether the highlighted item should be selected on blur. */\n  selectOnBlur: PropTypes.bool,\n\n  /**\n   * Whether or not to change the value when navigating the menu using arrow keys.\n   * Setting to false will require enter or left click to confirm a choice.\n   */\n  selectOnNavigation: PropTypes.bool,\n\n  /** Currently selected label in multi-select. */\n  selectedLabel: customPropTypes.every([customPropTypes.demand(['multiple']), PropTypes.oneOfType([PropTypes.string, PropTypes.number])]),\n\n  /** A dropdown can be used to select between choices in a form. */\n  selection: customPropTypes.every([customPropTypes.disallow(['children']), customPropTypes.demand(['options']), PropTypes.bool]),\n\n  /** A simple dropdown can open without Javascript. */\n  simple: PropTypes.bool,\n\n  /** A dropdown can receive focus. */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /** The text displayed in the dropdown, usually for the active item. */\n  text: PropTypes.string,\n\n  /** Custom element to trigger the menu to become visible. Takes place of 'text'. */\n  trigger: customPropTypes.every([customPropTypes.disallow(['selection', 'text']), PropTypes.node]),\n\n  /** Current value or value array if multiple. Creates a controlled component. */\n  value: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.number]))]),\n\n  /** Controls whether the dropdown will open upward. */\n  upward: PropTypes.bool,\n\n  /**\n   * A dropdown will go to the last element when ArrowUp is pressed on the first,\n   * or go to the first when ArrowDown is pressed on the last( aka infinite selection )\n   */\n  wrapSelection: PropTypes.bool\n} : {};"]},"metadata":{},"sourceType":"module"}